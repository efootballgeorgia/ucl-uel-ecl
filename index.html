<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nekro League Table</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Background Video -->
  <video autoplay muted loop id="bg-video">
    <source src="images/background-video.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>

  <header>
    <h1>Nekro League</h1>
    <h2>Season December</h2>
  </header>

  <!-- League Table Section -->
  <section class="league-table">
    <table id="leagueTable">
      <thead>
        <tr>
          <th>Pos</th>
          <th>Club</th>
          <th>MP</th>
          <th>W</th>
          <th>G</th>
          <th>L</th>
          <th>Pts</th>
        </tr>
      </thead>
      <tbody>
        <tr data-points="9">
          <td>1</td>
          <td><img src="images/ac-milan-logo.png" alt="AC Milan"> AC Milan</td>
          <td>3</td>
          <td>3</td>
          <td>19</td>
          <td>0</td>
          <td>9</td>
        </tr>
        <tr data-points="6">
          <td>2</td>
          <td><img src="images/real-madrid-logo.png" alt="Real Madrid"> Real Madrid</td>
          <td>2</td>
          <td>2</td>
          <td>13</td>
          <td>1</td>
          <td>6</td>
        </tr>
        <tr data-points="0">
          <td>3</td>
          <td><img src="images/georgia-logo.png" alt="Georgia"> Georgia</td>
          <td>2</td>
          <td>0</td>
          <td>10</td>
          <td>2</td>
          <td>0</td>
        </tr>
        <tr data-points="0">
          <td>4</td>
          <td><img src="images/barcelona-logo.png" alt="Barcelona"> Barcelona</td>
          <td>2</td>
          <td>0</td>
          <td>4</td>
          <td>2</td>
          <td>0</td>
        </tr>
      </tbody>
    </table>
  </section>

  <!-- Team Images Section -->
  <section class="team-images">
    <h2>Team Highlights</h2>
    <div class="team-gallery">
      <!-- Real Madrid Gallery with Upload Button -->
      <div class="team">
        <h3>Real Madrid</h3>
        <div class="image-gallery" id="realMadridGallery">
          <!-- Uploaded images will appear here -->
        </div>
        <input type="file" accept="image/*" id="realMadridUpload" onchange="uploadImage(event, 'realMadridGallery')">
      </div>

      <!-- AC Milan Gallery with Upload Button -->
      <div class="team">
        <h3>AC Milan</h3>
        <div class="image-gallery" id="acMilanGallery">
          <!-- Uploaded images will appear here -->
        </div>
        <input type="file" accept="image/*" id="acMilanUpload" onchange="uploadImage(event, 'acMilanGallery')">
      </div>

      <!-- Georgia Gallery with Upload Button -->
      <div class="team">
        <h3>Georgia</h3>
        <div class="image-gallery" id="GeorgiaGallery">
          <!-- Uploaded images will appear here -->
        </div>
        <input type="file" accept="image/*" id="GeorgiaUpload" onchange="uploadImage(event, 'GeorgiaGallery')">
      </div>

      <!-- Barcelona Gallery with Upload Button -->
      <div class="team">
        <h3>Barcelona</h3>
        <div class="image-gallery" id="Barcelona">
          <!-- Uploaded images will appear here -->
        </div>
        <input type="file" accept="image/*" id="Barcelonaupload" onchange="uploadImage(event, 'BarcelonaGallery')">
      </div>

      <!-- More teams can be added in the same way -->
    </div>
  </section>

  <!-- Modal for Viewing Larger Image -->
  <div id="myModal" class="modal">
    <span class="close">&times;</span>
    <img class="modal-content" id="modal-image">
  </div>

  <script>
    // Function to upload image and display it in the team gallery
    function uploadImage(event, teamGalleryId) {
      const file = event.target.files[0]; // Get the uploaded file
      if (!file) return;

      const reader = new FileReader();
      reader.onload = function(e) {
        const imageUrl = e.target.result; // Get the URL of the uploaded image
        const gallery = document.getElementById(teamGalleryId);

        const imgElement = document.createElement("img");
        imgElement.src = imageUrl;

        // Append the uploaded image to the team gallery
        gallery.appendChild(imgElement);
      };
      reader.readAsDataURL(file); // Read the file and create a data URL
    }

    // JavaScript to sort the table by points (data-points attribute)
    window.onload = function() {
      sortTableByPoints();
    };

    function sortTableByPoints() {
      const table = document.getElementById("leagueTable");
      const rows = Array.from(table.getElementsByTagName("tr")).slice(1); // Skip the header row

      // Sort the rows by points (descending)
      rows.sort((rowA, rowB) => {
        const pointsA = parseInt(rowA.getAttribute("data-points"));
        const pointsB = parseInt(rowB.getAttribute("data-points"));
        return pointsB - pointsA; // Sort in descending order
      });

      // Append the sorted rows back to the table
      const tbody = table.querySelector("tbody");
      rows.forEach((row, index) => {
        tbody.appendChild(row); // Reorder rows
        row.cells[0].textContent = index + 1; // Update the position column
      });
    }
  </script>
</body>
</html>
